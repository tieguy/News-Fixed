{"id":"DailyNews-1","title":"Generate statistics automatically from story content","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2025-10-21T21:53:23.523759585-07:00","updated_at":"2025-11-09T17:24:57.883546885-08:00"}
{"id":"DailyNews-10","title":"Maximize front page content - fill white space","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-21T22:07:57.257414923-07:00","updated_at":"2025-11-09T17:24:57.899396425-08:00","closed_at":"2025-10-22T07:26:03.029003998-07:00"}
{"id":"DailyNews-11","title":"Add print queue integration for automatic printing","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2025-10-21T22:14:33.442968612-07:00","updated_at":"2025-11-09T17:24:57.901402341-08:00"}
{"id":"DailyNews-12","title":"Improve typography with classic newspaper serifs","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2025-10-21T22:16:35.042294545-07:00","updated_at":"2025-11-09T17:24:57.90306232-08:00"}
{"id":"DailyNews-13","title":"Add PDF preview capability for review before printing","description":"","status":"open","priority":3,"issue_type":"task","created_at":"2025-10-21T22:16:54.238374481-07:00","updated_at":"2025-11-09T17:24:57.904831238-08:00"}
{"id":"DailyNews-14","title":"Use SonarSource to lint Python source code","description":"Set up SonarSource (SonarQube or SonarCloud) to lint and analyze Python code quality.\n\nTasks:\n- Choose between SonarQube (self-hosted) or SonarCloud (cloud)\n- Set up SonarSource configuration for the project\n- Configure analysis for code/ directory\n- Run initial scan and review findings\n- Fix any critical/blocker issues found\n- Document setup process for future use\n- Consider integrating with CI/CD if applicable\n\nBenefits:\n- Comprehensive code quality analysis\n- Security vulnerability detection\n- Code smell identification\n- Maintainability metrics\n- Technical debt tracking","notes":"## Progress (2025-11-02)\n\n### Completed:\n- Cleaned up project (docs, removed cache/, fixed timezones)\n- Made GitHub repo public: https://github.com/tieguy/News-Fixed\n- Started SonarQube Cloud account\n- Created project in SonarQube Cloud for tieguy/News-Fixed\n- SonarQube Cloud automatically analyzed the public repo\n- Installed SonarQube MCP server via claude mcp add\n- Troubleshot Docker issues (firewalld needed restart)\n- MCP server connected successfully\n\n### Issues Fixed (18 total â†’ 7 remaining):\n\n**First round (9 quick wins):**\n- Fixed unnecessary f-strings (2 files)\n- Created constants for duplicate string literals (2 files)\n- Fixed unused variable in pdf_generator_typst.py\n- Fixed redundant exception in generator.py\n- Fixed type hints in pdf_generator_typst.py\n\n**Second round (BLOCKER + cognitive complexity):**\n- Fixed BLOCKER: Unreachable return statement in pdf_generator.py\n- Refactored pdf_generator.py (extracted 4 helper methods)\n- Refactored main.py (extracted 6 helper functions)\n\n**Third round (all remaining cognitive complexity):**\n- Refactored parser.py extract_stories() - extracted 3 helper methods\n- Refactored parser.py _extract_stories_from_text() - extracted 4 helper methods\n- Refactored sports_schedule.py parse_ics_file() - extracted 5 helper methods\n- Refactored sports_schedule.py get_games_for_date() - extracted 1 helper method\n- Refactored fetch_ftn_clean.py fetch_ftn_latest() - extracted 6 helper functions\n\nAll refactorings used Extract Method pattern to reduce cognitive complexity while preserving exact functionality.\n\n### Commits:\n1. 899a461 - Fix 9 quick win issues (f-strings, duplicates, type hints)\n2. 0bcbbf7 - Refactor pdf_generator.py and main.py for cognitive complexity\n3. db71ddb - Refactor parser, sports_schedule, and fetch_ftn_clean for cognitive complexity\n\n### Remaining Issues (7):\nThese are in less critical files or lower priority:\n- 2 security hotspots (need investigation)\n- 5 other minor issues in pdf_generator_typst.py and commented code\n\n### Configuration:\n- Org: tieguy\n- Token: configured\n- Project: tieguy_News-Fixed\n- MCP Server: mcp/sonarqube (Docker)\n- Project URL: https://sonarcloud.io/project/overview?id=tieguy_News-Fixed\n\n### Outcome:\nSuccessfully reduced issues from 18 to 7, fixed all critical cognitive complexity problems and the BLOCKER. Code is now much more maintainable and readable.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-10-22T07:56:23.955415832-07:00","updated_at":"2025-11-09T17:24:57.906636843-08:00","closed_at":"2025-11-02T14:14:15.384600445-08:00"}
{"id":"DailyNews-15","title":"FTN fetcher not retrieving full subscriber content","description":"The fetch_ftn_clean.py script is not properly fetching the full subscriber content from Fix The News. The downloaded HTML files (e.g., FTN-315.html) only contain 118 lines and show 'You're reading the free version of Fix The News' message.\n\nCurrent behavior:\n- Files end abruptly with Firefox reader mode UI controls\n- Content stops at 'For paid subscribers this week:' with bullet points but no actual subscriber content\n- Appears to be truncated or captured before full content loads\n\nPossible causes:\n1. Reader mode (about:reader?url=...) may activate before subscriber content fully loads\n2. Reader mode may be stripping out subscriber-specific content\n3. Authentication cookies may not be properly passed to reader mode\n4. Wait times may be insufficient for full page load\n\nInvestigation needed:\n- Test fetch without reader mode to see if full content is available\n- Increase wait times before activating reader mode\n- Verify authentication status on the page before reader mode\n- Consider alternative approaches to clean HTML extraction\n\nRelated files:\n- code/src/fetch_ftn_clean.py (lines 90-100: reader mode activation)\n- data/ftn/FTN-315.html (truncated output)","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-10-22T09:21:49.031481298-07:00","updated_at":"2025-11-09T17:24:57.908508589-08:00","closed_at":"2025-10-22T20:54:19.136034516-07:00"}
{"id":"DailyNews-16","title":"Verify FTN /latest URL pattern still uses -d suffix for free preview","description":"On Oct 22, 2025, we discovered that /latest redirects to a public preview URL ending in -dNN (e.g., -d49) even for logged-in users. The fetch script now strips this suffix to access the paid version. We need to verify this pattern is consistent with the next issue (expected Thu Oct 23 or 24). Test: 1) Navigate to fixthenews.com/latest while logged in, 2) Check if URL has -d suffix, 3) Manually remove suffix and verify paid content loads, 4) Update fetch_ftn_clean.py if pattern changes.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-22T20:25:40.558194686-07:00","updated_at":"2025-11-09T17:24:57.910489698-08:00","closed_at":"2025-11-01T15:25:38.476243267-07:00"}
{"id":"DailyNews-17","title":"Parser repeats headline as first sentence in article content","description":"The FTN parser (_create_story_from_reader in src/parser.py) was extracting the title from the first sentence but not removing it from the content, causing headlines to repeat as the first sentence of each article. Fixed by removing the title from content after extraction (line 195). Verified fix in ftn-315.json.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-10-22T20:54:59.988848757-07:00","updated_at":"2025-11-09T17:24:57.912119619-08:00","closed_at":"2025-10-22T20:55:04.621799792-07:00"}
{"id":"DailyNews-18","title":"Implement rotating taglines for newspaper masthead","description":"Current tagline 'The World Is Getting Better. Here's Proof.' is too assertive. Implement rotating taglines that are more balanced while maintaining optimism.\n\nOptions to consider:\n- 'Problems Exist. So Do Solutions.'\n- 'The News You're Not Hearing.'\n- 'Real People Making Real Progress.'\n- 'What's Getting Better? A Lot, Actually.'\n- 'The Other Half of the News.'\n- 'Progress Worth Knowing About.'\n\nImplementation approaches:\n1. Rotate by day (1-4)\n2. Rotate by theme (Health/Education, Environment, etc.)\n3. Random selection from pool\n4. User configurable via config/CLI\n\nAlso consider making 'Quick Win' content rotate or be theme-specific (currently has hardcoded fallback text in templates/newspaper.html:58)\n\nLocation: templates/newspaper.html:15","status":"open","priority":3,"issue_type":"task","created_at":"2025-10-25T22:36:09.160726842-07:00","updated_at":"2025-11-09T17:24:57.913922763-08:00"}
{"id":"DailyNews-19","title":"Pull URLs from Google Sheet for additional summaries","description":"","notes":"Fetch URLs from a Google Sheet for local news summaries. User will manually populate sheet with links from various sources.\n\nRequirements:\n- Read URLs from Google Sheet (Google Sheets API integration)\n- Support multiple news sources (not just FTN)\n- Handle authentication for paywalled sources\n- Extend fetch_ftn_clean.py approach to generic URL fetcher\n- Store credentials securely (consider using playwright persistent contexts per source)\n\nArchitecture considerations:\n- Generic fetcher base class\n- Source-specific fetchers (inherit from base)\n- Cookie/session management per source\n- Sheet structure: URL, source_type, category, date_added\n\nThis will enable pulling in hand-curated local news alongside FTN content.","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-02T14:11:46.042098412-08:00","updated_at":"2025-11-09T17:24:57.915864605-08:00"}
{"id":"DailyNews-2","title":"Generate tomorrow teaser content automatically","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2025-10-21T21:53:34.32163629-07:00","updated_at":"2025-11-09T17:24:57.917664478-08:00"}
{"id":"DailyNews-20","title":"Build CLI UI for story/stat/content selection","description":"","notes":"Interactive CLI UI for curating newspaper content. Requires significant brainstorming and design work.\n\nCurrent workflow pain points:\n- All stories/stats auto-generated or from JSON\n- No way to manually select/reject stories\n- No preview before final PDF\n- Cannot tweak individual elements\n\nProposed workflow:\n1. Fetch/generate candidate content (FTN + Google Sheet URLs)\n2. Show interactive selection UI\n3. User picks main story, mini articles, stats\n4. Preview before generating final PDF\n5. Save selections for reproducibility\n\nUI considerations:\n- Library: inquirer, questionary, or rich + textual\n- Need to show: title, first paragraph, source\n- Multi-select for mini articles\n- Single-select for main story\n- Inline editing for headlines/stats?\n- PDF preview integration?\n\nThis is a major UX improvement - needs design thinking before implementation.\nPriority 1 because it's blocking full manual curation workflow.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-02T14:11:59.084548992-08:00","updated_at":"2025-11-09T17:24:57.919359637-08:00","closed_at":"2025-11-09T13:45:17.318636998-08:00"}
{"id":"DailyNews-21","title":"Add 'combine stories' feature to curation TUI","description":"","notes":"Allow combining 2+ related stories into a single merged story during curation. When stories cover similar topics, user can select multiple stories and merge them into one combined story with concatenated content. Useful for related news that would work better as a single mini article.\n\nDesign considerations:\n- Add [C] Combine option to day review menu\n- Prompt for story numbers to combine (e.g., '2,3,5')\n- Merge title+content from all selected stories\n- Generate new tui_headline for combined story\n- Keep as mini article (not main)\n- Remove source stories from day\n- Track in changes_made log\n\nExample workflow:\nDay 2 has stories about solar panels (story 2) and battery storage (story 3)\nUser types 'c' -\u003e '2,3' -\u003e Combined into single mini article about renewable energy storage","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-09T15:58:26.194321659-08:00","updated_at":"2025-11-09T17:24:57.920953642-08:00","closed_at":"2025-11-09T16:11:51.085235652-08:00"}
{"id":"DailyNews-22","title":"Add 'combine stories' feature to curation TUI","description":"","design":"Allow combining 2+ related stories into a single merged story during curation. When stories cover similar topics, user can select multiple stories and merge them into one combined story with concatenated content. Useful for related news that would work better as a single mini article.\n\nDesign considerations:\n- Add [C] Combine option to day review menu\n- Prompt for story numbers to combine (e.g., '2,3,5')\n- Merge title+content from all selected stories\n- Generate new tui_headline for combined story via Anthropic API\n- Keep as mini article (not main)\n- Remove source stories from day\n- Track in changes_made log\n\nExample workflow:\nDay 2 has stories about solar panels (story 2) and battery storage (story 3)\nUser types 'c' -\u003e '2,3' -\u003e Combined into single mini article about renewable energy storage\n\nTechnical approach:\n- Add combine_stories(day_num, story_indices) method to StoryCurator\n- Call generate_tui_headline() to create summary headline for merged story\n- Update day's mini_articles list (remove sources, add combined)\n- Log change: 'Day 2: Combined stories 2,3 -\u003e Solar Energy Storage Advances'\n\nDeferred from DailyNews-21 for future implementation.","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-09T16:12:05.732126356-08:00","updated_at":"2025-11-09T17:24:57.922756283-08:00"}
{"id":"DailyNews-23","title":"Remove or fix 'Quick Win' box - currently shows same placeholder text","description":"","design":"The 'Quick Win' feature box on the front page currently shows the same hardcoded placeholder text every day. This defeats the purpose of highlighting daily wins.\n\nOptions:\n1. Remove it entirely (simplest)\n2. Make it rotate by day/theme\n3. Auto-generate from story content\n4. Pull from curated list of quick wins\n5. Leave empty unless manually specified\n\nCurrent location: templates/newspaper.html (feature box section)\n\nRelated to DailyNews-18 (rotating taglines) - both are static content that should be dynamic.\n\nDecision needed: What should 'Quick Win' actually be? If we can't make it meaningfully different each day, better to remove it than show stale content.","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-09T16:16:28.156425518-08:00","updated_at":"2025-11-09T17:24:57.924692977-08:00"}
{"id":"DailyNews-24","title":"Fill blank space on front page with additional content","description":"","design":"Front page has significant white space that could be filled with more content. Currently only has main story and feature box.\n\nPotential content to add:\n- Additional mini articles (2-3 short stories)\n- Photo/illustration placeholders\n- Quote of the day\n- This day in history\n- Local news briefs (from Google Sheets)\n- Weekly weather summary\n- Calendar highlights\n\nLikely blocked by:\n- DailyNews-19 (Google Sheets integration) - needed for local news content\n- DailyNews-5 (news highlight feature boxes) - structured content blocks\n- DailyNews-4 (family calendar) - personal calendar integration\n\nDesign considerations:\n- Must maintain print-friendly black \u0026 white aesthetic\n- Cannot overflow to page 3 (strict 2-page limit)\n- Should complement main story, not compete with it\n- Need to balance content density with readability\n\nNext steps:\n1. Measure actual white space available\n2. Design mock-ups with different content layouts\n3. Determine which content sources are feasible\n4. Implement after DailyNews-19 provides additional content pipeline","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-09T16:17:34.173722536-08:00","updated_at":"2025-11-09T17:24:57.926446501-08:00"}
{"id":"DailyNews-25","title":"Improve 'By The Numbers' quality - reduce count and add generation rules","description":"","design":"The 'By The Numbers' statistics section often contains problematic or misleading stats. Current issues:\n\nProblems:\n- Misrepresents timeframes (e.g., '109M+ children protected this week' when it's an announcement about future vaccinations)\n- Sometimes redundant with story content\n- Can be vague or meaningless without context\n- Currently generates 6 stats, which may encourage filler content\n\nSolutions:\n1. Reduce from 6 stats to 3 - forces quality over quantity\n2. Add strict rules to generation prompt:\n   - Must be verifiable numbers from the stories\n   - Must accurately represent timeframes (announced vs. actual)\n   - Cannot repeat story headlines\n   - Must provide meaningful context\n   - Prefer concrete outcomes over projections\n3. Optional: Add TUI review step for stats (like story curation)\n   - Show generated stats\n   - Allow edit/remove/regenerate\n   - Manual input option\n\nCurrent location: \n- Generation: code/src/generator.py (generate_statistics method)\n- Prompt: prompts/statistics.txt\n- Template: templates/newspaper.html (statistics section)\n\nRecommended approach:\n1. Start with reducing to 3 stats + improved prompt rules\n2. Test quality improvement\n3. Add TUI review if still problematic\n\nRelated to DailyNews-1 (auto-generate statistics) - this is refinement of that feature.","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-09T16:20:34.711063261-08:00","updated_at":"2025-11-09T17:24:57.928210882-08:00"}
{"id":"DailyNews-26","title":"Extract and include images/graphs from FTN articles","description":"","design":"Consider including images or graphs from FTN articles, particularly for the main story on front page.\n\nBenefits:\n- Visual interest breaks up text-heavy layout\n- Graphs/charts can illustrate statistics effectively\n- Photos make stories more engaging for young readers\n- Could help fill front page white space (DailyNews-24)\n\nChallenges:\n- Print-friendly black \u0026 white conversion needed\n- Image quality/resolution for home printing\n- Copyright/licensing considerations (fair use?)\n- File size impact on PDF generation\n- Layout complexity (text wrapping, sizing)\n\nTechnical approach:\n1. Update parser.py to extract image URLs from FTN HTML\n2. Download images during fetch phase\n3. Convert to grayscale/high-contrast black \u0026 white\n4. Store image path with story metadata\n5. Update PDF generator to handle image placement\n6. Consider using Typst for better image layout control\n\nQuestions to answer:\n- Does FTN include images in subscriber content?\n- What image formats are common (PNG, JPG, SVG)?\n- How to handle graphs vs photos differently?\n- Size constraints for 2-page print layout?\n- Should this be optional/configurable?\n\nRelated beads:\n- DailyNews-24 (fill front page white space)\n- Could tie into DailyNews-19 (Google Sheets) for local news images\n\nPriority 3 (low) because text-only works fine, but images would be nice enhancement.","status":"open","priority":3,"issue_type":"feature","created_at":"2025-11-09T16:21:33.375495398-08:00","updated_at":"2025-11-09T17:24:57.929867977-08:00"}
{"id":"DailyNews-27","title":"Implement REUSE compliance and switch to Blue Oak Model License 1.0.0","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-09T17:02:45.993922501-08:00","updated_at":"2025-11-09T17:24:57.944013268-08:00","closed_at":"2025-11-09T17:24:57.944013268-08:00"}
{"id":"DailyNews-3","title":"Improve story extraction and title generation quality","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2025-10-21T21:53:56.762293866-07:00","updated_at":"2025-11-09T17:24:57.931630677-08:00"}
{"id":"DailyNews-4","title":"Support family calendar events in feature box","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2025-10-21T22:00:01.236069784-07:00","updated_at":"2025-11-09T17:24:57.933434781-08:00"}
{"id":"DailyNews-5","title":"Extract or generate news highlight feature boxes","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2025-10-21T22:00:34.234453772-07:00","updated_at":"2025-11-09T17:24:57.935284057-08:00"}
{"id":"DailyNews-6","title":"Add content length validation and overflow detection","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-21T22:00:50.228039629-07:00","updated_at":"2025-11-09T17:24:57.937027849-08:00","closed_at":"2025-10-22T07:32:11.44579289-07:00"}
{"id":"DailyNews-7","title":"Improve error handling and graceful degradation","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2025-10-21T22:01:03.653160335-07:00","updated_at":"2025-11-09T17:24:57.938656093-08:00"}
{"id":"DailyNews-8","title":"Add Duke basketball game schedule to feature box","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-10-21T22:04:51.955563483-07:00","updated_at":"2025-11-09T17:24:57.940240527-08:00","closed_at":"2025-10-22T07:48:19.791569496-07:00"}
{"id":"DailyNews-9","title":"Add daily comic strip (XKCD or Far Side)","description":"","status":"open","priority":3,"issue_type":"task","created_at":"2025-10-21T22:05:08.619173909-07:00","updated_at":"2025-11-09T17:24:57.941783461-08:00"}
